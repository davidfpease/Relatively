!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),(new Image).src="./src/assets/hamburger-solid.svg";var r=new Image;r.src="./src/assets/home-solid.svg";new Image;r.src="./src/assets/school-solid.svg";function o(){var e=document.getElementById("dollar_input"),t=document.getElementById("comps"),n=e.value.replace(/,/g,"");return!!(/^\d+$/.test(n)&&"empty"!==t.value&&n.length>0)}function l(){var e=new DOMParser,t=fetch("https://www.defense.gov/Newsroom/Contracts/").then((function(e){return e.text()})).then((function(t){for(var n=e.parseFromString(t,"text/html").querySelectorAll("a"),r=0;r<n.length;r++)if(n[r].textContent.includes("Contracts For"))return fetch(n[r].replace("http","https"))})).then((function(e){return e.text()})).then((function(t){for(var n=e.parseFromString(t,"text/html").querySelectorAll("p"),r=[],o=0;o<n.length;o++)r.push(n[o].innerText);return function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],o=r.indexOf("awarded a $");if(o>-1){var l=r.slice(o+11,o+31);l=parseInt(l.slice(0,l.indexOf(" ")).replace(/,/g,"")),t.push(l)}}return t.reduce((function(e,t){return e+t}))}(r)}));return console.log(t),t}var a={burger:4,house:4e5,"middle-school":265e5},c=(l(),document.getElementById("dollar_input")),u=document.getElementById("comps"),s=new Image;s.src="./src/assets/hamburger-solid.svg";var i=new Image;i.src="./src/assets/home-solid.svg";var d=new Image;function m(){var e,t=document.getElementById("dollar_input").value.replace(/,/g,""),n=document.getElementById("comps").value,r=a[n];e="burger"===n?s:"house"===n?i:d;for(var o=Math.ceil(t/r),l=o.toLocaleString("en",{useGrouping:!0}),c=Math.ceil(Math.sqrt(o)),m=document.querySelector("body"),g=m.offsetWidth+parseInt(getComputedStyle(m).borderRightWidth),f=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),v=g/c,p=[],h=v/2,y=v/2,b=0;b<o;){var x=b%c;b>0&&0===x&&(h+=v),p.push([y+x*v,h]),b++}var w=d3.select("canvas").call(d3.zoom().scaleExtent([.1,8]).on("zoom",(function(){var e=d3.event.transform;w.save(),w.clearRect(0,0,g,g),w.translate(e.x,e.y),w.scale(e.k,e.k),E(),w.restore()}))).attr("width",g).attr("height",f).node().getContext("2d");function E(){var t,n=-1,r=p.length;for(w.beginPath();++n<r;)t=p[n],w.moveTo(t[0],t[1]),w.drawImage(e,t[0],t[1],v-.2*v,v-.2*v);w.font="75px Montserrat",w.fillStyle="#b34d4d",w.textAlign="center",w.strokeStyle="black",w.miterLimit=2,w.lineJoin="circle",w.lineWidth=2,w.strokeText("".concat(l," ").concat(u.value,"s!"),g/2,.4*f),w.lineWidth=1,w.fillText("".concat(l," ").concat(u.value,"s!"),g/2,.4*f)}E()}d.src="./src/assets/school-solid.svg",u.addEventListener("change",(function(){u.className=""})),c.addEventListener("keydown",(function(e){"Enter"===e.key&&("empty"===u.value?u.classList.add("wrong"):o()&&(m(),document.getElementById("dollar_input").value=""))})),c.addEventListener("keyup",(function(e){var t=document.getElementById("dollar_input"),n=document.getElementById("dollar_input"),r=t.value.replace(/,/g,""),o=/^\d+$/.test(r);!o&&t.value.length>0?n.classList.add("wrong"):o&&t.value.length>0&&(n.className="",n.value=parseInt(r).toLocaleString("en",{useGrouping:!0}))})),u.addEventListener("keydown",(function(e){"Enter"===e.key&&o()&&(m(),document.getElementById("dollar_input").value="")})),document.querySelector(".reset-button").addEventListener("click",(function(e){var t=document.querySelector("canvas");t.getContext("2d").clearRect(0,0,t.width,t.height),document.getElementById("dollar_input").value="",document.getElementById("comps").value="empty",d3.select(".total").text("")})),document.querySelector(".dod-button").addEventListener("click",(function(){l().then((function(e){c.value=e.toLocaleString("en",{useGrouping:!0}),u.value="middle-school",m()}))}))}]);
//# sourceMappingURL=main.js.map